<html>

<body>
    <div id="content"></div>
</body>

<script>
    //Without res.json()
    // fetch('https://jsonplaceholder.typicode.com/posts/1')
    //     .then((json) => console.log(json))
    //     .catch(error => console.log(error));

    // function sum(a,b){}
    // sum(2,3);
    
function displayTable(response){
document.getElementById("content").innerHTML = `<p>${response.sold}</p>`
}

    // fetch('https://petstore.swagger.io/v2/store/inventory')
    //     .then((response) => response.json())
    //     .then((response) => {
    //         console.log(response);
    //         displayTable(response);
    //     })
    //     .catch(error => {
    //         console.log(error);
    //         alert("API is failed")
    //     });

    //Get
    // fetch('https://jsonplaceholder.typicode.com/posts/1')
    //     .then((response) => response.json())
    //     .then((json) => console.log(json))
    //     .catch(error => console.log(error));

    //Post
    let input = {
            title: 'foo1',
            body: 'bar',
            userId: 1,
        }
    fetch('https://jsonplaceholder.typicode.com/posts', {
        method: 'POST',
        body: JSON.stringify(input),
        headers: {
            'Content-type': 'application/json; charset=UTF-8',
        },
    })
        .then((response) => response.json())
        .then((json) => console.log(json))
        .catch(error => console.log(error));


    // //Put
    fetch('https://jsonplaceholder.typicode.com/posts/1', {
        method: 'PUT',
        body: JSON.stringify({
            id: 1,
            title: 'foo',
            body: 'bar',
            userId: 1,
        }),
        headers: {
            'Content-type': 'application/json; charset=UTF-8',
        },
    })
        .then((response) => response.json())
        .then((json) => console.log(json))
        .catch(error => console.log(error));


    // //Delete
    // fetch('https://jsonplaceholder.typicode.com/posts/1', {
    //     method: 'DELETE',
    // })
    //     .catch(error => console.log(error));

    //or using params
    /*fetch('https://jsonplaceholder.typicode.com/posts?userId=1')
        .then((response) => response.json())
        .then((json) => console.log(json))
        .catch(error => console.log(error));*/

    //Authentication [TODO]
    fetch('https://jsonplaceholder.typicode.com/posts/1', {
        method: 'PUT',
        body: JSON.stringify({
            id: 1,
            title: 'foo',
            body: 'bar',
            userId: 1,
        }),
        headers: {
            'Content-type': 'application/json; charset=UTF-8',
            'Authorization': `Basic `
        },
    })
        .then((response) => response.json())
        .then((json) => console.log(json))
        .catch(error => console.log(error));
</script>

</html>
